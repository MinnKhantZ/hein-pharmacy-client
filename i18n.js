import AsyncStorage from '@react-native-async-storage/async-storage';
import * as Localization from 'expo-localization';
import i18n from 'i18next';
import { initReactI18next } from 'react-i18next';

// Get stored language or fallback to device language
const getInitialLanguage = async () => {
  try {
    const storedLanguage = await AsyncStorage.getItem('userLanguage');
    if (storedLanguage) {
      return storedLanguage;
    }
  } catch (error) {
    console.error('Error getting stored language:', error);
  }
  return Localization.getLocales()[0]?.languageCode || 'en';
};

// Function to change language and persist it
export const changeLanguage = async (language) => {
  try {
    await AsyncStorage.setItem('userLanguage', language);
    await i18n.changeLanguage(language);
  } catch (error) {
    console.error('Error changing language:', error);
  }
};

// Translation resources
const resources = {
  en: {
    translation: {
      // Common
      "Welcome": "Welcome",
      "Login": "Login",
      "Logout": "Logout",
      "Save": "Save",
      "Cancel": "Cancel",
      "Delete": "Delete",
      "Edit": "Edit",
      "Add": "Add",
      "Search": "Search",
      "Loading": "Loading...",
      "Error": "Error",
      "Success": "Success",

      // Navigation
      "Dashboard": "Dashboard",
      "Home": "Home",
      "Inventory": "Inventory",
      "Sales": "Sales",
      "Income": "Income",
      "Analytics": "Analytics",
      "Profile": "Profile",

      // Auth
      "Username": "Username",
      "Password": "Password",
      "Full Name": "Full Name",
      "Email": "Email",
      "Phone": "Phone",
      "Login to your account": "Login to your account",
      "Create new account": "Create new account",
      "Sign In": "Sign In",
      "Signing In...": "Signing In...",
      "Enter your username": "Enter your username",
      "Enter your password": "Enter your password",
      "Please fill in all fields": "Please fill in all fields",
      "Login Failed": "Login Failed",
      "An unexpected error occurred": "An unexpected error occurred",
      "Please fill in required fields (username, password, full name)": "Please fill in required fields (username, password, full name)",
      "Password must be at least 6 characters long": "Password must be at least 6 characters long",
      "Registration Failed": "Registration Failed",
      "Registration successful! Please login.": "Registration successful! Please login.",
      "Create Account": "Create Account",
      "Creating Account...": "Creating Account...",
      "Already have an account?": "Already have an account?",
      "Enter your full name": "Enter your full name",
      "Enter your email (optional)": "Enter your email (optional)",
      "Enter your phone (optional)": "Enter your phone (optional)",
      "Enter your phone number": "Enter your phone number",
      "Enter username": "Enter username",
      "Enter password (min 6 characters)": "Enter password (min 6 characters)",
      "Enter email (optional)": "Enter email (optional)",
      "Enter phone number (optional)": "Enter phone number (optional)",
      "Join Hein Pharmacy Management": "Join Hein Pharmacy Management",

      // Inventory
      "Add New Item": "Add New Item",
      "Item Name": "Item Name",
      "Category": "Category",
      "Quantity": "Quantity",
      "Unit Price": "Unit Price",
      "Selling Price": "Selling Price",
      "Minimum Stock": "Minimum Stock",
      "Description": "Description",
      "Stock": "Stock",
      "Price": "Price",
      "+ Add Item": "+ Add Item",
      "Search items...": "Search items...",
      "Filter by Owner": "Filter by Owner",
      "Filter by Category": "Filter by Category",
      "Clear Filters": "Clear Filters",
      "Show Filters": "Show Filters",
      "Hide Filters": "Hide Filters",
      "Sort by": "Sort by",
      "Name (A-Z)": "Name (A-Z)",
      "Stock (Low to High)": "Stock (Low to High)",
      "Stock (High to Low)": "Stock (High to Low)",
      "Price (Low to High)": "Price (Low to High)",
      "Price (High to Low)": "Price (High to Low)",
      "Recently Added": "Recently Added",
      "No items found": "No items found",
      "Low Stock": "Low Stock",
      "Qty:": "Qty:",
      "Owner:": "Owner:",
      "Edit Item": "Edit Item",
      "Delete Item": "Delete Item",
      "Are you sure you want to delete": "Are you sure you want to delete",
      "Item deleted successfully": "Item deleted successfully",
      "Failed to delete item": "Failed to delete item",
      "Failed to fetch inventory items": "Failed to fetch inventory items",
      "Failed to save item": "Failed to save item",
      "Item Name *": "Item Name *",
      "Select or type below": "Select or type below",
      "Or type new category": "Or type new category",
      "Quantity *": "Quantity *",
      "Unit Price *": "Unit Price *",
      "Selling Price *": "Selling Price *",
      "Owner": "Owner",
      "Save Item": "Save Item",
      "Please fill in all required fields": "Please fill in all required fields",
      "Please select an owner": "Please select an owner",
      "Select Owner": "Select Owner",
      "Select existing category": "Select existing category",
      "All Owners": "All Owners",
      "All Categories": "All Categories",

      // Sales
      "Item updated successfully": "Item updated successfully",
      "Item added successfully": "Item added successfully",

      // Dashboard
      "Welcome back,": "Welcome back,",
      "Hein Pharmacy Management": "Hein Pharmacy Management",
      "Quick Actions": "Quick Actions",
      "Make Sale": "Make Sale",
      "Record new sales": "Record new sales",
      "View Inventory": "View Inventory",
      "Manage your inventory": "Manage your inventory",
      "Income Reports": "Income Reports",
      "View income analytics": "View income analytics",

      // Sales
      "New Sale": "New Sale",
      "Customer Name": "Customer Name",
      "Customer Phone": "Customer Phone",
      "Payment Method": "Payment Method",
      "Cash": "Cash",
      "Card": "Card",
      "Notes": "Notes",
      "Add Item": "Add Item",
      "Total": "Total",
      "Complete Sale": "Complete Sale",
      "Sales History": "Sales History",
      "Start typing to search items": "Start typing to search items",
      "Cart": "Cart",
      "items": "items",
      "No items in cart": "No items in cart",
      "Total:": "Total:",
      "Customer Information (Optional)": "Customer Information (Optional)",
      "Mobile": "Mobile Wallet",
      "Credit": "Credit",
      "Mark as Paid": "Mark as Paid",
      "Paid": "Paid",
      "Paid on:": "Paid on:",
      "Are you sure you want to mark this sale as paid? This will add it to the income for the original sale date.": "Are you sure you want to mark this sale as paid? This will add it to the income for the original sale date.",
      "Sale marked as paid successfully": "Sale marked as paid successfully",
      "Failed to mark sale as paid": "Failed to mark sale as paid",
      "Search & Add Items": "Search & Add Items",
      "Search inventory by name or category...": "Search inventory by name or category...",
      "Search by customer name, phone, or item...": "Search by customer name, phone, or item...",
      "+ New Sale": "+ New Sale",
      "No sales records yet": "No sales records yet",
      "Record your first sale by clicking the \"New Sale\" button above": "Record your first sale by clicking the \"New Sale\" button above",
      "Sale #": "Sale #",
      "Customer:": "Customer:",
      "Payment:": "Payment:",
      "Items:": "Items:",
      "Note:": "Note:",
      "Not enough stock available": "Not enough stock available",
      "Please add items to the sale": "Please add items to the sale",
      "Sale recorded successfully": "Sale recorded successfully",
      "Failed to record sale": "Failed to record sale",

      // Sales Filters
      "Sort by:": "Sort by:",
      "Date": "Date",
      "Amount": "Amount",
      "Customer": "Customer",

      // Income
      "Total Income": "Total Income",
      "Total Sales": "Total Sales",
      "Monthly Summary": "Monthly Summary",
      "Income Analytics": "Income Analytics",
      "All": "All",
      "Income Trend": "Income Trend",
      "Income by Owner": "Income by Owner",
      "Income Distribution": "Income Distribution",
      "Sales Trend": "Sales Trend",
      "Sales by Owner": "Sales by Owner",
      "Sales Distribution": "Sales Distribution",
      "Detailed Summary": "Detailed Summary",
      "Sales:": "Sales:",
      "Income:": "Income:",
      "No income data available": "No income data available",
      "View All Records": "View All Records",
      "All Records": "All Records",

      // Income Periods
      "Daily": "Daily",
      "Monthly": "Monthly",
      "Yearly": "Yearly",

      // Settings
      "Settings": "Settings",
      "App Preferences": "App Preferences",
      "Language": "Language",
      "Account": "Account",
      "Notifications": "Notifications",
      "About": "About",
      "Change Password": "Change Password",
      "Privacy Settings": "Privacy Settings",
      "Low Stock Alerts": "Low Stock Alerts",
      "Sales Notifications": "Sales Notifications",
      "Version": "Version",
      "Terms & Conditions": "Terms & Conditions",
      "Current Password": "Current Password",
      "New Password": "New Password",
      "Confirm New Password": "Confirm New Password",
      "Enter current password": "Enter current password",
      "Enter new password": "Enter new password",
      "Confirm new password": "Confirm new password",
      "Password changed successfully": "Password changed successfully",
      "Passwords do not match": "Passwords do not match",
      "Password must be at least 6 characters": "Password must be at least 6 characters",
      "Current password is required": "Current password is required",
      "New password is required": "New password is required",
      "Show Account Activity": "Show Account Activity",
      "Data Collection": "Data Collection",
      "Share Usage Data": "Share Usage Data",
      "Enable Low Stock Alerts": "Enable Low Stock Alerts",
      "Get notified when items are running low": "Get notified when items are running low",
      "Enable Sales Notifications": "Enable Sales Notifications",
      "Get notified about daily sales": "Get notified about daily sales",
      "Notification Settings": "Notification Settings",
      "Alert Time": "Alert Time",
      "Set Alert Time": "Set Alert Time",
      "Daily low stock notifications will be sent at this time": "Daily low stock notifications will be sent at this time",
      "Hour": "Hour",
      "Minute": "Minute",
      "Alert time updated successfully": "Alert time updated successfully",
      "Hour must be between 0 and 23": "Hour must be between 0 and 23",
      "Minute must be between 0 and 59": "Minute must be between 0 and 59",
      "Failed to update notification settings": "Failed to update notification settings",
      "Privacy Policy": "Privacy Policy",
      "About Hein Pharmacy": "About Hein Pharmacy",
      "A comprehensive pharmacy management system": "A comprehensive pharmacy management system",
      "Contact Us": "Contact Us",
      "Support": "Support",
      "Rate This App": "Rate This App",
      "Done": "Done",
      "Close": "Close",
      "Failed to change password": "Failed to change password",
      "Permissions Required": "Permissions Required",
      "Please enable notifications in your device settings to receive alerts.": "Please enable notifications in your device settings to receive alerts.",
      "Notification settings updated successfully": "Notification settings updated successfully",

      // Profile
      "Manage your account settings": "Manage your account settings",
      "Edit Profile": "Edit Profile",
      "Manage Owners": "Manage Owners",
      "Owner Management": "Owner Management",
      "Create New Owner Account": "Create New Owner Account",
      "Update Profile": "Update Profile",
      "Create Owner": "Create Owner",
      "Address": "Address",
      "Enter your address": "Enter your address",
      "Username, password, and full name are required": "Username, password, and full name are required",
      "New owner account created successfully": "New owner account created successfully",
      "Failed to create owner account": "Failed to create owner account",
      "Are you sure you want to logout?": "Are you sure you want to logout?",
      "Profile updated successfully": "Profile updated successfully",
      "Failed to update profile": "Failed to update profile",
      "English": "English",
      "Burmese": "Burmese",
      "Create a new owner account that can manage inventory and sales.": "Create a new owner account that can manage inventory and sales.",
      "Manage all owner accounts in the system.": "Manage all owner accounts in the system.",
      "No owners found": "No owners found",
      "Are you sure you want to delete this owner?": "Are you sure you want to delete this owner?",
      "Owner deleted successfully": "Owner deleted successfully",
      "Failed to delete owner": "Failed to delete owner",
      "Delete Owner": "Delete Owner",
      "Edit Owner": "Edit Owner",
      "Update owner account details.": "Update owner account details.",
      "Save Changes": "Save Changes",
      "Owner updated successfully": "Owner updated successfully",
      "Failed to update owner": "Failed to update owner",
      "Reset Password": "Reset Password",
      "Reset password for": "Reset password for",
      "Password reset successfully": "Password reset successfully",
      "Failed to reset password": "Failed to reset password",

      // SearchableDropdown
      "No matching options": "No matching options",
      "Type to add a new category": "Type to add a new category",
      "No options available": "No options available",
      "Add as new option": "Add as new option",

      // Currency
      "currency": "Ks",
      "currencySymbol": "Ks"
    }
  },
  my: {
    translation: {
      // Common
      "Welcome": "ကြိုဆိုပါသည်",
      "Login": "ဝင်ရောက်မည်",
      "Logout": "ထွက်မည်",
      "Save": "သိမ်းမည်",
      "Cancel": "ပယ်ဖျက်မည်",
      "Delete": "ဖျက်မည်",
      "Edit": "ပြင်ဆင်မည်",
      "Add": "ထည့်မည်",
      "Search": "ရှာဖွေမည်",
      "Loading": "ဖွင့်နေသည်...",
      "Error": "အမှား",
      "Success": "အောင်မြင်သည်",

      // Navigation
      "Dashboard": "ဒက်ရှ်ဘုတ်",
      "Home": "ပင်မ",
      "Inventory": "စာရင်း",
      "Sales": "ရောင်းအား",
      "Income": "ဝင်ငွေ",
      "Analytics": "စာရင်းအင်း",
      "Profile": "ပရိုဖိုင်",

      // Auth
      "Username": "အသုံးပြုသူအမည်",
      "Password": "စကားဝှက်",
      "Full Name": "အပြည့်အမည်",
      "Email": "အီးမေးလ်",
      "Phone": "ဖုန်း",
      "Login to your account": "သင့်အကောင့်သို့ဝင်ရောက်ပါ",
      "Create new account": "အကောင့်အသစ်ဖန်တီးပါ",
      "Sign In": "ဝင်ရောက်မည်",
      "Signing In...": "ဝင်ရောက်နေသည်...",
      "Enter your username": "သင့်အသုံးပြုသူအမည်ထည့်ပါ",
      "Enter your password": "သင့်စကားဝှက်ထည့်ပါ",
      "Please fill in all fields": "အချက်အလက်အားလုံးဖြည့်စွက်ပါ",
      "Login Failed": "ဝင်ရောက်မှုမအောင်မြင်ပါ",
      "An unexpected error occurred": "အမှားတစ်ခုဖြစ်ပွားခဲ့သည်",
      "Please fill in required fields (username, password, full name)": "လိုအပ်သောအချက်အလက်များဖြည့်စွက်ပါ (အသုံးပြုသူအမည်၊ စကားဝှက်၊ အပြည့်အမည်)",
      "Password must be at least 6 characters long": "စကားဝှက်သည်အနည်းဆုံး ၆ လုံးရှိရမည်",
      "Registration Failed": "စာရင်းသွင်းမှုမအောင်မြင်ပါ",
      "Registration successful! Please login.": "စာရင်းသွင်းမှုအောင်မြင်သည်။ ဝင်ရောက်ပါ။",
      "Create Account": "အကောင့်ဖန်တီးမည်",
      "Creating Account...": "အကောင့်ဖန်တီးနေသည်...",
      "Already have an account?": "အကောင့်ရှိပြီးသားလား။",
      "Enter your full name": "သင့်အပြည့်အမည်ထည့်ပါ",
      "Enter your email (optional)": "သင့်အီးမေးလ်ထည့်ပါ (မဖြစ်မနေ မလိုအပ်ပါ)",
      "Enter your phone (optional)": "သင့်ဖုန်းနံပါတ်ထည့်ပါ (မဖြစ်မနေ မလိုအပ်ပါ)",
      "Enter your phone number": "သင့်ဖုန်းနံပါတ်ထည့်ပါ",
      "Enter username": "အသုံးပြုသူအမည်ထည့်ပါ",
      "Enter password (min 6 characters)": "စကားဝှက်ထည့်ပါ (အနည်းဆုံး ၆ လုံး)",
      "Enter email (optional)": "အီးမေးလ်ထည့်ပါ (မဖြစ်မနေ မလိုအပ်ပါ)",
      "Enter phone number (optional)": "ဖုန်းနံပါတ်ထည့်ပါ (မဖြစ်မနေ မလိုအပ်ပါ)",
      "Join Hein Pharmacy Management": "Hein Pharmacy စီမံခန့်ခွဲမှုသို့ဝင်ရောက်ပါ",

      // Dashboard
      "Welcome back,": "ကြိုဆိုပါသည်၊",
      "Hein Pharmacy Management": "Hein Pharmacy စီမံခန့်ခွဲမှု",
      "Quick Actions": "အမြန်လုပ်ဆောင်ချက်များ",
      "Make Sale": "ရောင်းအားလုပ်မည်",
      "Record new sales": "ရောင်းအားအသစ်မှတ်တမ်းတင်မည်",
      "View Inventory": "စာရင်းကြည့်မည်",
      "Manage your inventory": "သင့်စာရင်းကိုစီမံမည်",
      "Income Reports": "ဝင်ငွေအစီရင်ခံစာများ",
      "View income analytics": "ဝင်ငွေစာရင်းအင်းကြည့်မည်",

      // Inventory
      "Add New Item": "ပစ္စည်းအသစ်ထည့်မည်",
      "Item Name": "ပစ္စည်းအမည်",
      "Category": "အမျိုးအစား",
      "Quantity": "အရေအတွက်",
      "Unit Price": "တစ်ခုဈေးနှုန်း",
      "Selling Price": "ရောင်းဈေးနှုန်း",
      "Minimum Stock": "အနည်းဆုံးလက်ကျန်",
      "Description": "ဖော်ပြချက်",
      "Stock": "လက်ကျန်",
      "Price": "ဈေးနှုန်း",
      "+ Add Item": "+ ပစ္စည်းထည့်မည်",
      "Search items...": "ပစ္စည်းများရှာဖွေရန်...",
      "Filter by Owner": "ပိုင်ရှင်အလိုက်စစ်ထုတ်မည်",
      "Filter by Category": "အမျိုးအစားအလိုက်စစ်ထုတ်မည်",
      "Clear Filters": "စစ်ထုတ်မှုများရှင်းလင်းမည်",
      "Show Filters": "စစ်ထုတ်မှုများပြမည်",
      "Hide Filters": "စစ်ထုတ်မှုများဖျောက်မည်",
      "Sort by": "စီစဉ်ရန်",
      "Name (A-Z)": "အမည် (က-အ)",
      "Stock (Low to High)": "လက်ကျန် (နည်းမှများသို့)",
      "Stock (High to Low)": "လက်ကျန် (များမှနည်းသို့)",
      "Price (Low to High)": "ဈေးနှုန်း (နည်းမှများသို့)",
      "Price (High to Low)": "ဈေးနှုန်း (များမှနည်းသို့)",
      "Recently Added": "လတ်တလောထည့်သည်",
      "No items found": "ပစ္စည်းများမတွေ့ရှိပါ",
      "Low Stock": "လက်ကျန်နည်းသည်",
      "Qty:": "အရေအတွက်:",
      "Owner:": "ပိုင်ရှင်:",
      "Edit Item": "ပစ္စည်းပြင်ဆင်မည်",
      "Delete Item": "ပစ္စည်းဖျက်မည်",
      "Are you sure you want to delete": "ဖျက်လိုသည်မှာ သေချာပါသလား",
      "Item deleted successfully": "ပစ္စည်းဖျက်ခြင်းအောင်မြင်သည်",
      "Failed to delete item": "ပစ္စည်းဖျက်ခြင်းမအောင်မြင်ပါ",
      "Failed to fetch inventory items": "စာရင်းပစ္စည်းများရယူခြင်းမအောင်မြင်ပါ",
      "Failed to save item": "ပစ္စည်းသိမ်းဆည်းခြင်းမအောင်မြင်ပါ",
      "Item Name *": "ပစ္စည်းအမည် *",
      "Select or type below": "အောက်တွင်ရွေးချယ်ပါ သို့မဟုတ် ရိုက်ထည့်ပါ",
      "Or type new category": "သို့မဟုတ် အမျိုးအစားအသစ်ရိုက်ထည့်ပါ",
      "Quantity *": "အရေအတွက် *",
      "Unit Price *": "တစ်ခုဈေးနှုန်း *",
      "Selling Price *": "ရောင်းဈေးနှုန်း *",
      "Owner": "ပိုင်ရှင်",
      "Save Item": "ပစ္စည်းသိမ်းဆည်းမည်",
      "Please fill in all required fields": "လိုအပ်သောအချက်အလက်များအားလုံးဖြည့်စွက်ပါ",
      "Please select an owner": "ပိုင်ရှင်ရွေးချယ်ပါ",
      "Select Owner": "ပိုင်ရှင်ရွေးချယ်ပါ",
      "Select existing category": "ရှိပြီးသားအမျိုးအစားရွေးချယ်ပါ",
      "All Owners": "ပိုင်ရှင်အားလုံး",
      "All Categories": "အမျိုးအစားအားလုံး",

      // Sales
      "Item updated successfully": "ပစ္စည်းပြင်ဆင်ခြင်းအောင်မြင်သည်",
      "Item added successfully": "ပစ္စည်းထည့်ခြင်းအောင်မြင်သည်",
      "New Sale": "ရောင်းအားအသစ်",
      "Customer Name": "ဝယ်သူအမည်",
      "Customer Phone": "ဝယ်သူဖုန်း",
      "Payment Method": "ငွေပေးချေမှုနည်းလမ်း",
      "Cash": "ငွေသား",
      "Card": "ကတ်",
      "Notes": "မှတ်စု",
      "Add Item": "ပစ္စည်းထည့်မည်",
      "Total": "စုစုပေါင်း",
      "Complete Sale": "ရောင်းအားပြီးစီးမည်",
      "Sales History": "ရောင်းအားမှတ်တမ်း",
      "Start typing to search items": "ပစ္စည်းများရှာဖွေရန် ရိုက်ထည့်ပါ",
      "Cart": "ဈေးခြင်းတောင်း",
      "items": "ခု",
      "No items in cart": "ဈေးခြင်းတောင်းတွင် ပစ္စည်းများမရှိပါ",
      "Total:": "စုစုပေါင်း:",
      "Customer Information (Optional)": "ဝယ်သူအချက်အလက် (မဖြစ်မနေ မလိုအပ်ပါ)",
      "Mobile": "မိုဘိုင်းဝေလ်လက်",
      "Credit": "အကြွေး",
      "Mark as Paid": "ပေးပြီးဟု မှတ်မည်",
      "Paid": "ပေးပြီး",
      "Paid on:": "ပေးသည့်ရက်:",
      "Are you sure you want to mark this sale as paid? This will add it to the income for the original sale date.": "ဤရောင်းအားကို ပေးပြီးဟု မှတ်လိုသည်မှာ သေချာပါသလား? ၎င်းသည် မူလရောင်းချသည့်ရက်စွဲအတွက် ဝင်ငွေတွင် ထည့်သွင်းမည်ဖြစ်သည်။",
      "Sale marked as paid successfully": "ရောင်းအားကို ပေးပြီးဟု မှတ်ခြင်းအောင်မြင်သည်",
      "Failed to mark sale as paid": "ရောင်းအားကို ပေးပြီးဟု မှတ်ခြင်းမအောင်မြင်ပါ",
      "Search & Add Items": "ရှာဖွေပြီး ပစ္စည်းထည့်မည်",
      "Search inventory by name or category...": "အမည် သို့မဟုတ် အမျိုးအစားအလိုက် စာရင်းရှာဖွေရန်...",
      "Search by customer name, phone, or item...": "ဝယ်သူအမည်၊ ဖုန်း၊ ပစ္စည်း ရှာဖွေရန်...",
      "+ New Sale": "+ ရောင်းအားအသစ်",
      "No sales records yet": "ရောင်းအားမှတ်တမ်းများမရှိသေးပါ",
      "Record your first sale by clicking the \"New Sale\" button above": "အထက်ရှိ \"ရောင်းအားအသစ်\" ခလုတ်ကို နှိပ်ပြီး သင့်ပထမဆုံး ရောင်းအားကို မှတ်တမ်းတင်ပါ",
      "Sale #": "ရောင်းအား #",
      "Customer:": "ဝယ်သူ:",
      "Payment:": "ငွေပေးချေမှု:",
      "Items:": "ပစ္စည်းများ:",
      "Note:": "မှတ်စု:",
      "Not enough stock available": "လက်ကျန်လုံလောက်မှုမရှိပါ",
      "Please add items to the sale": "ရောင်းအားသို့ ပစ္စည်းများထည့်ပါ",
      "Sale recorded successfully": "ရောင်းအားမှတ်တမ်းတင်ခြင်းအောင်မြင်သည်",
      "Failed to record sale": "ရောင်းအားမှတ်တမ်းတင်ခြင်းမအောင်မြင်ပါ",

      // Sales Filters
      "Sort by:": "စီစဉ်ရန်:",
      "Date": "ရက်စွဲ",
      "Amount": "ပမာဏ",
      "Customer": "ဝယ်သူ",

      // Income
      "Total Income": "စုစုပေါင်းဝင်ငွေ",
      "Total Sales": "စုစုပေါင်းရောင်းအား",
      "Monthly Summary": "လအလိုက်အကျဉ်းချုပ်",
      "Income Analytics": "ဝင်ငွေစာရင်းအင်း",
      "All": "အားလုံး",
      "Income Trend": "ဝင်ငွေလမ်းကြောင်း",
      "Income by Owner": "ပိုင်ရှင်အလိုက်ဝင်ငွေ",
      "Income Distribution": "ဝင်ငွေဖြန့်ဖြူးမှု",
      "Sales Trend": "ရောင်းအားလမ်းကြောင်း",
      "Sales by Owner": "ပိုင်ရှင်အလိုက်ရောင်းအား",
      "Sales Distribution": "ရောင်းအားဖြန့်ဖြူးမှု",
      "Detailed Summary": "အသေးစိတ်အကျဉ်းချုပ်",
      "Sales:": "ရောင်းအား:",
      "Income:": "ဝင်ငွေ:",
      "No income data available": "ဝင်ငွေအချက်အလက်မရှိပါ",
      "View All Records": "မှတ်တမ်းအားလုံးကြည့်မည်",
      "All Records": "မှတ်တမ်းအားလုံး",

      // Income Periods
      "Daily": "နေ့စဉ်",
      "Monthly": "လအလိုက်",
      "Yearly": "နှစ်အလိုက်",

      // Settings
      "Settings": "ဆက်တင်များ",
      "App Preferences": "အက်ပ်အပြင်အဆင်များ",
      "Language": "ဘာသာစကား",
      "Account": "အကောင့်",
      "Notifications": "အသိပေးချက်များ",
      "About": "အကြောင်း",
      "Change Password": "စကားဝှက်ပြောင်းရန်",
      "Privacy Settings": "ကိုယ်ရေးအချက်အလက်ဆက်တင်များ",
      "Low Stock Alerts": "လက်ကျန်နည်းသောအသိပေးချက်များ",
      "Sales Notifications": "ရောင်းအားအသိပေးချက်များ",
      "Version": "ဗားရှင်း",
      "Terms & Conditions": "စည်းမျဉ်းနှင့်အခြေအနေများ",
      "Current Password": "လက်ရှိစကားဝှက်",
      "New Password": "စကားဝှက်အသစ်",
      "Confirm New Password": "စကားဝှက်အသစ်အတည်ပြုပါ",
      "Enter current password": "လက်ရှိစကားဝှက်ထည့်ပါ",
      "Enter new password": "စကားဝှက်အသစ်ထည့်ပါ",
      "Confirm new password": "စကားဝှက်အသစ်အတည်ပြုပါ",
      "Password changed successfully": "စကားဝှက်ပြောင်းလဲခြင်းအောင်မြင်သည်",
      "Passwords do not match": "စကားဝှက်များမကိုက်ညီပါ",
      "Password must be at least 6 characters": "စကားဝှက်သည် အနည်းဆုံး ၆ လုံးရှိရမည်",
      "Current password is required": "လက်ရှိစကားဝှက်လိုအပ်သည်",
      "New password is required": "စကားဝှက်အသစ်လိုအပ်သည်",
      "Show Account Activity": "အကောင့်လှုပ်ရှားမှုပြပါ",
      "Data Collection": "ဒေတာစုဆောင်းမှု",
      "Share Usage Data": "အသုံးပြုမှုဒေတာမျှဝေပါ",
      "Enable Low Stock Alerts": "လက်ကျန်နည်းသောအသိပေးချက်များဖွင့်ပါ",
      "Get notified when items are running low": "ပစ္စည်းများကုန်ခါနီးသောအခါအသိပေးပါ",
      "Enable Sales Notifications": "အရောင်းအသိပေးချက်များဖွင့်ပါ",
      "Get notified about daily sales": "နေ့စဉ်အရောင်းများအကြောင်းအသိပေးပါ",
      "Notification Settings": "အသိပေးချက်ဆက်တင်များ",
      "Alert Time": "အသိပေးချိန်",
      "Set Alert Time": "အသိပေးချိန်သတ်မှတ်ပါ",
      "Daily low stock notifications will be sent at this time": "ဤအချိန်တွင် နေ့စဉ်လက်ကျန်နည်းသောအသိပေးချက်များပို့ပါမည်",
      "Hour": "နာရီ",
      "Minute": "မိနစ်",
      "Alert time updated successfully": "အသိပေးချိန်အောင်မြင်စွာပြောင်းလဲခဲ့သည်",
      "Hour must be between 0 and 23": "နာရီသည် 0 မှ 23 ကြားဖြစ်ရမည်",
      "Minute must be between 0 and 59": "မိနစ်သည် 0 မှ 59 ကြားဖြစ်ရမည်",
      "Failed to update notification settings": "အသိပေးချက်ဆက်တင်များပြောင်းလဲ၍မရပါ",
      "Privacy Policy": "ကိုယ်ရေးအချက်အလက်မူဝါဒ",
      "About Hein Pharmacy": "ဟိန်းဆေးဆိုင်အကြောင်း",
      "A comprehensive pharmacy management system": "ပြည့်စုံသောဆေးဆိုင်စီမံခန့်ခွဲမှုစနစ်",
      "Contact Us": "ဆက်သွယ်ရန်",
      "Support": "အကူအညီ",
      "Rate This App": "အက်ပ်အဆင့်သတ်မှတ်ပါ",
      "Done": "ပြီးပါပြီ",
      "Close": "ပိတ်မည်",
      "Failed to change password": "စကားဝှက်ပြောင်းခြင်းမအောင်မြင်ပါ",
      "Permissions Required": "ခွင့်ပြုချက်လိုအပ်သည်",
      "Please enable notifications in your device settings to receive alerts.": "အသိပေးချက်များရရှိရန် သင့်စက်ပစ္စည်းဆက်တင်များတွင် အသိပေးချက်များကိုဖွင့်ပေးပါ။",
      "Notification settings updated successfully": "အသိပေးချက်ဆက်တင်များအောင်မြင်စွာအပ်ဒိတ်လုပ်ပြီးပါပြီ",

      // Profile
      "Manage your account settings": "သင့်အကောင့်ဆက်တင်များကိုစီမံပါ",
      "Edit Profile": "ပရိုဖိုင်ပြင်ဆင်မည်",
      "Manage Owners": "ပိုင်ရှင်များစီမံမည်",
      "Owner Management": "ပိုင်ရှင်စီမံခန့်ခွဲမှု",
      "Create New Owner Account": "ပိုင်ရှင်အကောင့်အသစ်ဖန်တီးမည်",
      "Update Profile": "ပရိုဖိုင်အပ်ဒိတ်လုပ်မည်",
      "Create Owner": "ပိုင်ရှင်ဖန်တီးမည်",
      "Address": "လိပ်စာ",
      "Enter your address": "သင့်လိပ်စာထည့်ပါ",
      "Username, password, and full name are required": "အသုံးပြုသူအမည်၊ စကားဝှက်နှင့် အပြည့်အမည်လိုအပ်သည်",
      "New owner account created successfully": "ပိုင်ရှင်အကောင့်အသစ်ဖန်တီးခြင်းအောင်မြင်သည်",
      "Failed to create owner account": "ပိုင်ရှင်အကောင့်ဖန်တီးခြင်းမအောင်မြင်ပါ",
      "Are you sure you want to logout?": "ထွက်ခွာလိုသည်မှာ သေချာပါသလား။",
      "Profile updated successfully": "ပရိုဖိုင်အပ်ဒိတ်လုပ်ခြင်းအောင်မြင်သည်",
      "Failed to update profile": "ပရိုဖိုင်အပ်ဒိတ်လုပ်ခြင်းမအောင်မြင်ပါ",
      "English": "အင်္ဂလိပ်",
      "Burmese": "မြန်မာ",
      "Create a new owner account that can manage inventory and sales.": "စာရင်းနှင့် ရောင်းအားကို စီမံနိုင်သော ပိုင်ရှင်အကောင့်အသစ်ဖန်တီးပါ။",
      "Manage all owner accounts in the system.": "စနစ်တွင်းရှိ ပိုင်ရှင်အကောင့်များအားလုံးကို စီမံပါ။",
      "No owners found": "ပိုင်ရှင်များမတွေ့ပါ",
      "Are you sure you want to delete this owner?": "ဤပိုင်ရှင်ကိုဖျက်လိုသည်မှာ သေချာပါသလား။",
      "Owner deleted successfully": "ပိုင်ရှင်ဖျက်ခြင်းအောင်မြင်သည်",
      "Failed to delete owner": "ပိုင်ရှင်ဖျက်ခြင်းမအောင်မြင်ပါ",
      "Delete Owner": "ပိုင်ရှင်ဖျက်မည်",
      "Edit Owner": "ပိုင်ရှင်ပြင်ဆင်မည်",
      "Update owner account details.": "ပိုင်ရှင်အကောင့်အသေးစိတ်များကို အပ်ဒိတ်လုပ်ပါ။",
      "Save Changes": "အပြောင်းအလဲများသိမ်းမည်",
      "Owner updated successfully": "ပိုင်ရှင်အပ်ဒိတ်လုပ်ခြင်းအောင်မြင်သည်",
      "Failed to update owner": "ပိုင်ရှင်အပ်ဒိတ်လုပ်ခြင်းမအောင်မြင်ပါ",
      "Reset Password": "စကားဝှက်ပြန်လည်သတ်မှတ်မည်",
      "Reset password for": "အတွက်စကားဝှက်ပြန်လည်သတ်မှတ်မည်",
      "Password reset successfully": "စကားဝှက်ပြန်လည်သတ်မှတ်ခြင်းအောင်မြင်သည်",
      "Failed to reset password": "စကားဝှက်ပြန်လည်သတ်မှတ်ခြင်းမအောင်မြင်ပါ",

      // SearchableDropdown
      "No matching options": "ကိုက်ညီသောရွေးချယ်စရာများမရှိပါ",
      "Type to add a new category": "အမျိုးအစားအသစ်ထည့်ရန် ရိုက်ထည့်ပါ",
      "No options available": "ရွေးချယ်စရာများမရှိပါ",
      "Add as new option": "ရွေးချယ်စရာအသစ်အဖြစ်ထည့်မည်",

      // Currency
      "currency": "ကျပ်",
      "currencySymbol": "ကျပ်"
    }
  }
};

// Initialize i18n with persisted language
const initializeI18n = async () => {
  const initialLanguage = await getInitialLanguage();
  
  i18n
    .use(initReactI18next)
    .init({
      resources,
      lng: initialLanguage,
      fallbackLng: 'en',
      interpolation: {
        escapeValue: false,
      },
    });
};

// Initialize immediately
initializeI18n();

export default i18n;